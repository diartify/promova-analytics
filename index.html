<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promova Support Analytics</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
          :root {
            --background: #ffffff;
            --foreground: #111111;
            --muted: #666666;
            --border: #eaeaea;
            --accent: #000000;
            --hover: #fafafa;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--background);
            color: var(--foreground);
            margin: 0;
        }

        #supportBubbleChart {
            width: 100%;
            height: 700px;
            background: var(--background);
            border-radius: 12px;
            border: 1px solid var(--border);
            overflow: hidden;
            position: relative;
        }

        #supportBubbleChart canvas {
            position: absolute;
            top: 0;
            left: 0;
        }

        .glass-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            transition: all 0.2s ease;
        }

        .glass-card:hover {
            background: var(--hover);
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 2rem;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            margin-bottom: 3rem;
        }

        .logo {
            font-size: 1.1rem;
            font-weight: 400;
            color: var(--foreground);
        }

        .header {
            margin-bottom: 3rem;
        }

        .title {
            font-size: 2.5rem;
            font-weight: 500;
            margin-bottom: 1rem;
            letter-spacing: -0.02em;
            color: var(--foreground);
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--muted);
            line-height: 1.5;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .stat-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--muted);
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 500;
            margin-bottom: 0.25rem;
            color: var(--foreground);
        }

        .stat-description {
            font-size: 0.875rem;
            color: var(--muted);
        }

        .trend-indicator {
            font-size: 0.75rem;
            color: var(--muted);
            margin-top: 0.25rem;
        }

        .insights-section {
            margin-top: 3rem;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .time-range {
            font-size: 0.875rem;
            color: var(--muted);
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            border-radius: 6px;
        }

        .header-content {
            max-width: 800px;
        }

        .header-stats {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
        }

        .quick-stat {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--foreground);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--muted);
        }

        .priority-high {
            border-left: 4px solid #FF6B6B;
        }

        .stat-breakdown {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
            font-size: 0.875rem;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .insight-filters {
            display: flex;
            gap: 0.5rem;
        }

        .insight-filters button {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: var(--background);
            color: var(--muted);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .insight-filters button.active {
            background: var(--foreground);
            color: var(--background);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .trend-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            background: #E8F5E9;
            color: #2E7D32;
        }

        .trend-badge.high {
            background: #FFE8E8;
            color: #FF6B6B;
        }

        .progress-bar {
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            margin: 1rem 0;
            position: relative;
        }

        .progress {
            height: 100%;
            background: #FF6B6B;
            border-radius: 4px;
        }

        .progress-text {
            position: absolute;
            right: 0;
            top: -1.5rem;
            font-size: 0.75rem;
            color: var(--muted);
        }

        #loginOverlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-modal {
            width: 100%;
            max-width: 400px;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
        }

        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-header h2 {
            margin-top: 1rem;
            font-size: 1.5rem;
            font-weight: 500;
            color: var(--foreground);
        }

        .input-group {
            margin-bottom: 1.5rem;
            width: 100%;
            box-sizing: border-box;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
            color: var(--foreground);
        }

        .input-group input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 1rem;
            box-sizing: border-box;
        }

        .input-group input:focus {
            outline: none;
            border-color: #000;
        }

        #loginForm {
            width: 100%;
        }

        #loginForm button {
            width: 100%;
            padding: 0.75rem;
            background: #000;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #loginForm button:hover {
            background: #333;
        }

        /* Analysis Section Styles */
        .analysis-section {
            margin-top: 4rem;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 500;
            margin-bottom: 2rem;
            color: var(--foreground);
        }

        .section-subtitle {
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            color: var(--foreground);
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: var(--background);
            color: var(--muted);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-btn.active {
            background: var(--foreground);
            color: var(--background);
        }

        .deep-dive-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .deep-dive-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            transition: all 0.2s ease;
        }

        .deep-dive-card:hover {
            background: var(--hover);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .card-header h3 {
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--foreground);
            margin: 0;
        }

        .automation-score {
            background: #E8F5E9;
            color: #2E7D32;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .sub-patterns {
            margin-bottom: 1.5rem;
        }

        .sub-pattern {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .pattern-name {
            font-weight: 500;
            color: var(--foreground);
            flex: 1;
        }

        .pattern-count {
            font-size: 0.875rem;
            color: var(--muted);
            margin-right: 1rem;
        }

        .pattern-bar {
            width: 100px;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            overflow: hidden;
        }

        .pattern-bar .fill {
            height: 100%;
            background: #FF6B6B;
            transition: width 0.3s ease;
        }

        .insights {
            border-top: 1px solid var(--border);
            padding-top: 1rem;
        }

        .insights p {
            margin: 0.5rem 0;
            font-size: 0.875rem;
            color: var(--muted);
        }

        /* Business Impact Styles */
        .impact-section {
            margin: 3rem 0;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .impact-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
        }

        .impact-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .impact-icon {
            font-size: 2rem;
            margin-right: 0.75rem;
        }

        .impact-header h4 {
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--foreground);
            margin: 0;
        }

        .impact-stats {
            display: grid;
            gap: 1rem;
        }

        .impact-stats .stat {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .impact-stats .stat-value {
            font-size: 2rem;
            font-weight: 600;
            color: var(--foreground);
        }

        .impact-stats .stat-label {
            font-size: 0.875rem;
            color: var(--muted);
        }

        /* Automation Timeline Styles */
        .automation-section {
            margin: 3rem 0;
        }

        .automation-timeline {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .timeline-item {
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
        }

        .timeline-marker {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--foreground);
            color: var(--background);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .timeline-content {
            flex: 1;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .timeline-content h4 {
            margin: 0 0 1rem 0;
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--foreground);
        }

        .automation-targets {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .target {
            background: #F5F5F5;
            color: var(--foreground);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .expected-impact {
            font-size: 0.875rem;
            color: #2E7D32;
            font-weight: 500;
        }

        /* Trends Section Styles */
        .trends-section {
            margin: 3rem 0;
        }

        .trends-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .trend-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.2s ease;
        }

        .trend-card:hover {
            background: var(--hover);
        }

        .trend-card h4 {
            margin: 0 0 1rem 0;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--foreground);
        }

        .trend-card p {
            margin: 0 0 1rem 0;
            font-size: 0.875rem;
            color: var(--muted);
            line-height: 1.5;
        }

        .trend-indicator {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .trend-indicator.growing {
            background: #E8F5E9;
            color: #2E7D32;
        }

        .trend-indicator.stable {
            background: #FFF3E0;
            color: #F57C00;
        }

        @media (max-width: 768px) {
            .header-stats {
                flex-direction: column;
                gap: 1rem;
            }

            .section-header {
                flex-direction: column;
                gap: 1rem;
            }

            .insight-filters {
                width: 100%;
                overflow-x: auto;
                padding-bottom: 0.5rem;
            }

            .deep-dive-grid {
                grid-template-columns: 1fr;
            }

            .automation-timeline {
                gap: 1rem;
            }

            .timeline-item {
                flex-direction: column;
                gap: 1rem;
            }

            .timeline-marker {
                align-self: center;
            }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <!-- Zonka Feedback JavaScript Code Starts-->
    <script id="zfEmbed">
        window._zfQueue = window._zfQueue || []; function _zf(){_zfQueue.push(arguments); }
        (function() { ZonkaFeedback = function (en, fb ){document.body.addEventListener(en, fb ,
        false); }; var sc, w, d = document, ce = d.createElement, gi = d.getElementById, gt =
        d.getElementsByTagName, id = "zfEmbedScript"; if (!gi.call(d, id)) { sc = ce.call(d, "script");
        sc.async=!0;sc.id = id; sc.src = "https://us-js.zonka.co/6845f2073523aaa6b53133a5"; 
        w = gt.call(d, "script")[0];
        w.parentNode.insertBefore(sc, w); }})();
        _zf('variables', {
            contact_name: "john@example.com", // Will be replaced with user email
            contact_email: "john@example.com", // Will be replaced with user email
        }) 
    </script>
    <!-- Zonka Feedback JavaScript Code Ends-->
</head>
<body>
    <div id="loginOverlay">
        <div class="login-modal">
            <div class="login-header">
                <img src="https://promova.com/logo.svg" alt="Promova logo" style="height: 24px;" onerror="this.style.display='none'">
                <h2>Welcome to Promova Support Intelligence</h2>
            </div>
            <form id="loginForm">
                <div class="input-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required placeholder="Enter your email">
                </div>
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required placeholder="Enter your password">
                </div>
                <button type="submit">Sign In</button>
            </form>
        </div>
    </div>
    <div class="container">
        <nav class="nav">
            <div class="logo">
                <span class="logo-icon">üåê</span>
                Promova Support Intelligence
            </div>
            <div class="nav-right">
                <div class="time-range">All Time</div>
                <a href="https://promova.com">
                    <img src="https://promova.com/logo.svg" alt="Promova logo" style="height: 20px; opacity: 0.6;" onerror="this.style.display='none'">
                </a>
            </div>
        </nav>

        <header class="header">
            <div class="header-content">
                <h1 class="title">Promova Support Dashboard</h1>
                <p class="subtitle">
                    AI-powered analysis of support interactions for Promova. Identifying patterns 
                    and automating solutions for language learning platform operations.
                </p>
                <div class="header-stats">
                    <div class="quick-stat">
                        <span class="stat-number">Intercom</span>
                        <span class="stat-label">Ticketing System</span>
                    </div>
                    <div class="quick-stat">
                        <span class="stat-number">34,118</span>
                        <span class="stat-label">Total Tickets Analyzed</span>
                    </div>
                    <div class="quick-stat">
                        <span class="stat-number">6,741</span>
                        <span class="stat-label">Original Categories</span>
                    </div>
                    <div class="quick-stat">
                        <span class="stat-number">10</span>
                        <span class="stat-label">Consolidated Categories</span>
                    </div>
                </div>
            </div>
        </header>

        <div id="supportBubbleChart"></div>

        <div class="stats-grid">
            <!-- Subscription Cancellation -->
            <div class="glass-card priority-high">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Subscription Cancellation</div>
                        <div class="stat-value">13,754 Cases</div>
                    </div>
                    <div class="trend-badge high">Highest Impact</div>
                </div>
                <div class="stat-description">Users requesting to cancel their language learning subscriptions</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 40.3%"></div>
                    <span class="progress-text">40.3% of total volume</span>
                </div>
            </div>

            <!-- Refund Requests -->
            <div class="glass-card priority-high">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Refund Requests</div>
                        <div class="stat-value">6,092 Cases</div>
                    </div>
                    <div class="trend-badge high">High Impact</div>
                </div>
                <div class="stat-description">Requests for refunds on subscription charges and payments</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 17.9%"></div>
                    <span class="progress-text">17.9% of total volume</span>
                </div>
            </div>

            <!-- Other/Unclear -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Other/Unclear</div>
                        <div class="stat-value">3,833 Cases</div>
                    </div>
                    <div class="trend-badge">Medium Impact</div>
                </div>
                <div class="stat-description">Unclear requests and miscellaneous inquiries</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 11.2%"></div>
                    <span class="progress-text">11.2% of total volume</span>
                </div>
            </div>

            <!-- Payment & Billing Issues -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Payment & Billing Issues</div>
                        <div class="stat-value">2,288 Cases</div>
                    </div>
                    <div class="trend-badge">Medium Impact</div>
                </div>
                <div class="stat-description">Payment processing and billing-related problems</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 6.7%"></div>
                    <span class="progress-text">6.7% of total volume</span>
                </div>
            </div>

            <!-- Authorization & Access -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Authorization & Access</div>
                        <div class="stat-value">1,989 Cases</div>
                    </div>
                    <div class="trend-badge">Medium Impact</div>
                </div>
                <div class="stat-description">Login issues and account access problems</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 5.8%"></div>
                    <span class="progress-text">5.8% of total volume</span>
                </div>
            </div>

            <!-- Account Management -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Account Management</div>
                        <div class="stat-value">1,884 Cases</div>
                    </div>
                    <div class="trend-badge">Medium Impact</div>
                </div>
                <div class="stat-description">Account settings, profile updates, and management issues</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 5.5%"></div>
                    <span class="progress-text">5.5% of total volume</span>
                </div>
            </div>

            <!-- Course & Learning Support -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Course & Learning Support</div>
                        <div class="stat-value">1,647 Cases</div>
                    </div>
                    <div class="trend-badge">Medium Impact</div>
                </div>
                <div class="stat-description">Course access, learning materials, and educational support</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 4.8%"></div>
                    <span class="progress-text">4.8% of total volume</span>
                </div>
            </div>

            <!-- Positive Feedback -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Positive Feedback</div>
                        <div class="stat-value">710 Cases</div>
                    </div>
                    <div class="trend-badge">Low Impact</div>
                </div>
                <div class="stat-description">Positive reviews, compliments, and appreciation messages</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 2.1%"></div>
                    <span class="progress-text">2.1% of total volume</span>
                </div>
            </div>

            <!-- Trial & Subscription Issues -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">Trial & Subscription Issues</div>
                        <div class="stat-value">528 Cases</div>
                    </div>
                    <div class="trend-badge">Low Impact</div>
                </div>
                <div class="stat-description">Free trial periods and subscription management problems</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 1.5%"></div>
                    <span class="progress-text">1.5% of total volume</span>
                </div>
            </div>

            <!-- App Issues -->
            <div class="glass-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-label">App Issues</div>
                        <div class="stat-value">514 Cases</div>
                    </div>
                    <div class="trend-badge">Low Impact</div>
                </div>
                <div class="stat-description">Mobile app functionality and technical issues</div>
                <div class="progress-bar">
                    <div class="progress" style="width: 1.5%"></div>
                    <span class="progress-text">1.5% of total volume</span>
                </div>
            </div>
        </div>

        <!-- Detailed Analysis Section -->
        <div class="analysis-section">
            <div class="section-header">
                <h2 class="section-title">Detailed Category Analysis</h2>
                <div class="insight-filters">
                    <button class="filter-btn active" data-filter="all">All Insights</button>
                    <button class="filter-btn" data-filter="automation">Automation</button>
                    <button class="filter-btn" data-filter="business">Business Impact</button>
                    <button class="filter-btn" data-filter="trends">Trends</button>
                </div>
            </div>

            <!-- Category Deep Dive -->
            <div class="deep-dive-grid">
                <!-- Subscription Cancellation Deep Dive -->
                <div class="deep-dive-card priority-high">
                    <div class="card-header">
                        <h3>Subscription Cancellation Deep Dive</h3>
                        <span class="automation-score">Automation Potential: 85%</span>
                    </div>
                    <div class="sub-patterns">
                        <div class="sub-pattern">
                            <span class="pattern-name">Pure Cancellation</span>
                            <span class="pattern-count">5,867 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 43%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Cancellation + Refund</span>
                            <span class="pattern-count">4,850 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 35%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Billing Disputes</span>
                            <span class="pattern-count">1,650 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 12%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Data Deletion</span>
                            <span class="pattern-count">1,387 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 10%"></div></div>
                        </div>
                    </div>
                    <div class="insights">
                        <p><strong>Key Insight:</strong> 78% could be automated with self-service portal</p>
                        <p><strong>Revenue Impact:</strong> $2.1M+ annual at-risk revenue</p>
                    </div>
                </div>

                <!-- Refund Requests Deep Dive -->
                <div class="deep-dive-card priority-high">
                    <div class="card-header">
                        <h3>Refund Requests Analysis</h3>
                        <span class="automation-score">Automation Potential: 70%</span>
                    </div>
                    <div class="sub-patterns">
                        <div class="sub-pattern">
                            <span class="pattern-name">Unauthorized Charges</span>
                            <span class="pattern-count">2,132 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 35%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Trial Confusion</span>
                            <span class="pattern-count">1,523 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 25%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Duplicate Payments</span>
                            <span class="pattern-count">1,218 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 20%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Service Issues</span>
                            <span class="pattern-count">1,219 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 20%"></div></div>
                        </div>
                    </div>
                    <div class="insights">
                        <p><strong>Key Insight:</strong> 60% are preventable with better onboarding</p>
                        <p><strong>Cost Impact:</strong> $890K+ annual refund costs</p>
                    </div>
                </div>

                <!-- Other/Unclear Analysis -->
                <div class="deep-dive-card">
                    <div class="card-header">
                        <h3>Other/Unclear Category Breakdown</h3>
                        <span class="automation-score">Automation Potential: 45%</span>
                    </div>
                    <div class="sub-patterns">
                        <div class="sub-pattern">
                            <span class="pattern-name">Product Questions</span>
                            <span class="pattern-count">1,533 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 40%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Feature Inquiries</span>
                            <span class="pattern-count">1,150 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 30%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Language Barriers</span>
                            <span class="pattern-count">767 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 20%"></div></div>
                        </div>
                        <div class="sub-pattern">
                            <span class="pattern-name">Truly Unclear</span>
                            <span class="pattern-count">383 cases</span>
                            <div class="pattern-bar"><div class="fill" style="width: 10%"></div></div>
                        </div>
                    </div>
                    <div class="insights">
                        <p><strong>Key Insight:</strong> 70% are actually categorizable with better training</p>
                        <p><strong>Opportunity:</strong> Major KB enhancement target</p>
                    </div>
                </div>
            </div>

            <!-- Business Impact Metrics -->
            <div class="impact-section">
                <h3 class="section-subtitle">Business Impact Analysis</h3>
                <div class="impact-grid">
                    <div class="impact-card revenue">
                        <div class="impact-header">
                            <span class="impact-icon">üí∞</span>
                            <h4>Revenue Impact</h4>
                        </div>
                        <div class="impact-stats">
                            <div class="stat">
                                <span class="stat-value">$3.2M+</span>
                                <span class="stat-label">Annual At-Risk Revenue</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">58.2%</span>
                                <span class="stat-label">Revenue-Related Tickets</span>
                            </div>
                        </div>
                    </div>

                    <div class="impact-card efficiency">
                        <div class="impact-header">
                            <span class="impact-icon">‚ö°</span>
                            <h4>Efficiency Gains</h4>
                        </div>
                        <div class="impact-stats">
                            <div class="stat">
                                <span class="stat-value">75%</span>
                                <span class="stat-label">Automatable Tickets</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">24,000+</span>
                                <span class="stat-label">Hours Saveable Annually</span>
                            </div>
                        </div>
                    </div>

                    <div class="impact-card satisfaction">
                        <div class="impact-header">
                            <span class="impact-icon">üòä</span>
                            <h4>User Experience</h4>
                        </div>
                        <div class="impact-stats">
                            <div class="stat">
                                <span class="stat-value">67%</span>
                                <span class="stat-label">Preventable Issues</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">3.2x</span>
                                <span class="stat-label">Faster Resolution Potential</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Automation Opportunities -->
            <div class="automation-section">
                <h3 class="section-subtitle">Automation Roadmap</h3>
                <div class="automation-timeline">
                    <div class="timeline-item phase-1">
                        <div class="timeline-marker">1</div>
                        <div class="timeline-content">
                            <h4>Phase 1: Quick Wins (2-4 weeks)</h4>
                            <div class="automation-targets">
                                <span class="target">Subscription Self-Service</span>
                                <span class="target">Password Resets</span>
                                <span class="target">Basic FAQ</span>
                            </div>
                            <div class="expected-impact">Expected Impact: 45% volume reduction</div>
                        </div>
                    </div>

                    <div class="timeline-item phase-2">
                        <div class="timeline-marker">2</div>
                        <div class="timeline-content">
                            <h4>Phase 2: Smart Routing (6-8 weeks)</h4>
                            <div class="automation-targets">
                                <span class="target">Billing Issue Classification</span>
                                <span class="target">Product Question Routing</span>
                                <span class="target">Context-Aware Responses</span>
                            </div>
                            <div class="expected-impact">Expected Impact: 65% volume reduction</div>
                        </div>
                    </div>

                    <div class="timeline-item phase-3">
                        <div class="timeline-marker">3</div>
                        <div class="timeline-content">
                            <h4>Phase 3: AI-Powered (3-4 months)</h4>
                            <div class="automation-targets">
                                <span class="target">Natural Language Processing</span>
                                <span class="target">Predictive Escalation</span>
                                <span class="target">Personalized Responses</span>
                            </div>
                            <div class="expected-impact">Expected Impact: 80% volume reduction</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trending Insights -->
            <div class="trends-section">
                <h3 class="section-subtitle">Emerging Patterns & Trends</h3>
                <div class="trends-grid">
                    <div class="trend-card">
                        <h4>ü§ñ AI Feature Requests</h4>
                        <p>73+ ticket variations about AI tutors and conversation practice</p>
                        <div class="trend-indicator growing">+150% growth</div>
                    </div>

                    <div class="trend-card">
                        <h4>üì± Mobile Experience Issues</h4>
                        <p>App functionality problems across 50+ ticket types</p>
                        <div class="trend-indicator stable">Stable volume</div>
                    </div>

                    <div class="trend-card">
                        <h4>üåç International User Challenges</h4>
                        <p>Payment methods and language support requests</p>
                        <div class="trend-indicator growing">+85% growth</div>
                    </div>

                    <div class="trend-card">
                        <h4>üéì Advanced Learning Features</h4>
                        <p>Requests for specialized courses and certifications</p>
                        <div class="trend-indicator growing">+120% growth</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const data = [
            // Main Categories
            { name: "Subscription Cancellation", count: 5867, percentage: 17.2, category: "main", color: "#FF6B6B" },
            { name: "Refund Request", count: 2836, percentage: 8.3, category: "main", color: "#4ECDC4" },
            { name: "Subscription + Refund", count: 1556, percentage: 4.6, category: "sub", color: "#FF8E8E" },
            { name: "Subscription Cancellation + Refund", count: 1448, percentage: 4.2, category: "sub", color: "#FF8E8E" },
            { name: "Subscription Refund Request", count: 705, percentage: 2.1, category: "sub", color: "#FF8E8E" },
            { name: "Positive Feedback", count: 591, percentage: 1.7, category: "main", color: "#96CEB4" },
            { name: "Subscription refund request", count: 580, percentage: 1.7, category: "sub", color: "#FF8E8E" },
            { name: "Subscription Cancellation Request", count: 525, percentage: 1.5, category: "sub", color: "#FF8E8E" },
            { name: "Subscription + Refund Request", count: 491, percentage: 1.4, category: "sub", color: "#FF8E8E" },
            { name: "Subscription Cancellation + Refund Request", count: 448, percentage: 1.3, category: "sub", color: "#FF8E8E" },
            { name: "Subscription Access Issue", count: 290, percentage: 0.9, category: "main", color: "#45B7D1" },
            { name: "Subscription charge dispute", count: 249, percentage: 0.7, category: "sub", color: "#67C7F1" },
            { name: "Password Reset Assistance", count: 244, percentage: 0.7, category: "main", color: "#FFEEAD" },
            { name: "Subscription Cancellation Confirmation", count: 219, percentage: 0.6, category: "sub", color: "#FF8E8E" },
            { name: "Subscription Activation Issue", count: 183, percentage: 0.5, category: "sub", color: "#67C7F1" },
            { name: "Account Cancellation", count: 172, percentage: 0.5, category: "main", color: "#D4A5A5" },
            { name: "Refund Status Inquiry", count: 158, percentage: 0.5, category: "sub", color: "#6EDDDC" },
            { name: "Invoice Request", count: 137, percentage: 0.4, category: "main", color: "#9B89B3" },
            { name: "Account Access Assistance", count: 137, percentage: 0.4, category: "main", color: "#FFB6B9" },
            { name: "Unauthorized charge refund", count: 132, percentage: 0.4, category: "sub", color: "#6EDDDC" },
            { name: "Subscription Cancellation Assistance", count: 122, percentage: 0.4, category: "sub", color: "#FF8E8E" },
            { name: "Unsubscribe from emails", count: 103, percentage: 0.3, category: "main", color: "#A8E6CF" },
            { name: "Account Assistance", count: 103, percentage: 0.3, category: "main", color: "#DCEDC1" },
            { name: "Account Cancellation Request", count: 101, percentage: 0.3, category: "sub", color: "#E4B5B5" },
            { name: "Initial Inquiry", count: 96, percentage: 0.3, category: "main", color: "#C9A9DD" },
            { name: "Out of Office Notification", count: 90, percentage: 0.3, category: "main", color: "#FFD93D" },
            { name: "Unauthorized charge dispute", count: 89, percentage: 0.3, category: "sub", color: "#6EDDDC" },
            { name: "Account Deletion Request", count: 86, percentage: 0.3, category: "main", color: "#E4B5B5" },
            { name: "Premium Access Activation", count: 84, percentage: 0.2, category: "main", color: "#67C7F1" },
            { name: "Membership Cancellation", count: 84, percentage: 0.2, category: "sub", color: "#E4B5B5" },
            { name: "Account Access Issues", count: 83, percentage: 0.2, category: "sub", color: "#FFC6C9" },
            { name: "Refund + Subscription Cancellation", count: 82, percentage: 0.2, category: "sub", color: "#FF8E8E" },
            { name: "Subscription + Refund Inquiry", count: 80, percentage: 0.2, category: "sub", color: "#FF8E8E" },
            { name: "Subscription Cancellation Inquiry", count: 78, percentage: 0.2, category: "sub", color: "#FF8E8E" },
            { name: "Account Information Inquiry", count: 78, percentage: 0.2, category: "main", color: "#FFC6C9" },
            { name: "General Inquiry", count: 72, percentage: 0.2, category: "main", color: "#C9A9DD" },
            { name: "Account Inquiry", count: 72, percentage: 0.2, category: "main", color: "#FFC6C9" },
            { name: "English Language Learning", count: 67, percentage: 0.2, category: "main", color: "#B6E4D4" },
            { name: "Refund Confirmation", count: 67, percentage: 0.2, category: "sub", color: "#6EDDDC" },
            { name: "Subscription Plan Change", count: 64, percentage: 0.2, category: "main", color: "#67C7F1" },
            { name: "Subscription Access Issues", count: 62, percentage: 0.2, category: "sub", color: "#67C7F1" },
            { name: "Subscription Payment Issue", count: 61, percentage: 0.2, category: "main", color: "#FFD93D" },
            { name: "Subscription Pricing Inquiry", count: 60, percentage: 0.2, category: "main", color: "#FFD93D" },
            { name: "Account Access Issue", count: 60, percentage: 0.2, category: "sub", color: "#FFC6C9" },
            { name: "Refund Request + Subscription Cancellation", count: 59, percentage: 0.2, category: "sub", color: "#FF8E8E" },
            { name: "Subscription cancellation refund", count: 57, percentage: 0.2, category: "sub", color: "#FF8E8E" },
            { name: "Refund Request for Unauthorized Charge", count: 54, percentage: 0.2, category: "sub", color: "#6EDDDC" },
            { name: "Unauthorized charge inquiry", count: 51, percentage: 0.1, category: "sub", color: "#6EDDDC" },
            { name: "Subscription Cancellation + Refund Inquiry", count: 50, percentage: 0.1, category: "sub", color: "#FF8E8E" }
        ];
        const container = document.getElementById('supportBubbleChart');
        const containerWidth = container.clientWidth;
        const containerHeight = container.clientHeight;

        const Engine = Matter.Engine,
              Render = Matter.Render,
              Runner = Matter.Runner,
              Bodies = Matter.Bodies,
              Composite = Matter.Composite,
              Mouse = Matter.Mouse,
              Body = Matter.Body,
              MouseConstraint = Matter.MouseConstraint;

        const engine = Engine.create({
            constraintIterations: 3
        });

        engine.timing.timeScale = 0.7;

        const render = Render.create({
            element: container,
            engine: engine,
            options: {
                width: containerWidth,
                height: containerHeight,
                wireframes: false,
                background: 'transparent',
                pixelRatio: window.devicePixelRatio
            }
        });

        const maxCount = Math.max(...data.map(d => d.count));
        const minRadius = 25;
        const maxRadius = 100;
        const radiusScale = count => {
            // Use logarithmic scale for better distribution
            const logCount = Math.log(count);
            const logMax = Math.log(maxCount);
            return (logCount / logMax) * (maxRadius - minRadius) + minRadius;
        };

        // Enhanced color scheme for main and sub categories
        const generateColor = (item, index) => {
            if (item.color) {
                return item.color;
            }
            const colors = [
                '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4',
                '#FFEEAD', '#D4A5A5', '#9B89B3', '#FFB6B9',
                '#A8E6CF', '#DCEDC1', '#FFD93D', '#C9A9DD',
                '#B6E4D4', '#E4B5B5', '#67C7F1', '#6EDDDC'
            ];
            return colors[index % colors.length];
        };

        const wallThickness = 50;
        const wallOptions = {
            isStatic: true,
            render: { fillStyle: 'transparent' },
            restitution: 0.3
        };

        const walls = [
            Bodies.rectangle(containerWidth/2, -wallThickness/2, containerWidth + 100, wallThickness, wallOptions),
            Bodies.rectangle(containerWidth/2, containerHeight + wallThickness/2, containerWidth + 100, wallThickness, wallOptions),
            Bodies.rectangle(-wallThickness/2, containerHeight/2, wallThickness, containerHeight + 100, wallOptions),
            Bodies.rectangle(containerWidth + wallThickness/2, containerHeight/2, wallThickness, containerHeight + 100, wallOptions)
        ];

        const bubbles = data.map((item, index) => {
            const radius = radiusScale(item.count);
            const color = generateColor(item, index);
            
            // Different positioning strategy for main vs sub categories
            let x, y;
            if (item.category === 'main') {
                x = containerWidth / 2 + (Math.random() - 0.5) * 200;
                y = containerHeight / 2 + (Math.random() - 0.5) * 200;
            } else {
                x = containerWidth / 2 + (Math.random() - 0.5) * 400;
                y = containerHeight / 2 + (Math.random() - 0.5) * 400;
            }
            
            return Bodies.circle(x, y, radius, {
                restitution: 0.4,
                friction: 0.3,
                density: item.category === 'main' ? 0.001 : 0.0008,
                frictionAir: 0.04,
                render: {
                    fillStyle: color,
                    strokeStyle: item.category === 'main' ? '#ffffff' : '#f0f0f0',
                    lineWidth: item.category === 'main' ? 3 : 1.5
                }
            });
        });

        const mouse = Mouse.create(render.canvas);
        const mouseConstraint = MouseConstraint.create(engine, {
            mouse: mouse,
            constraint: {
                stiffness: 0.1,
                damping: 0.2,
                render: { visible: false }
            }
        });

        Matter.Events.on(engine, 'afterUpdate', () => {
            bubbles.forEach(bubble => {
                const maxVelocity = 15;
                const velocity = bubble.velocity;
                const speed = Math.sqrt(velocity.x * velocity.x + velocity.y * velocity.y);
                
                if (speed > maxVelocity) {
                    const scale = maxVelocity / speed;
                    Body.setVelocity(bubble, {
                        x: velocity.x * scale,
                        y: velocity.y * scale
                    });
                }
            });
        });

        Composite.add(engine.world, [...bubbles, ...walls, mouseConstraint]);
        engine.world.gravity.y = 0;

        Matter.Events.on(engine, 'beforeUpdate', () => {
            bubbles.forEach(bubble => {
                const centerAttraction = {
                    x: (containerWidth/2 - bubble.position.x) * 0.00002,
                    y: (containerHeight/2 - bubble.position.y) * 0.00002
                };
                
                Matter.Body.applyForce(bubble, bubble.position, centerAttraction);
            });
        });

        Render.run(render);
        const runner = Runner.create();
        Runner.run(runner, engine);

        const canvas = render.canvas;
        const ctx = canvas.getContext('2d');

        Matter.Events.on(render, 'afterRender', () => {
            bubbles.forEach((bubble, index) => {
                const item = data[index];
                const radius = bubble.circleRadius;
                
                // Adaptive text size based on bubble size
                const fontSize = Math.max(9, Math.min(14, radius / 5));
                const percentageFontSize = Math.max(8, Math.min(12, radius / 6));
                
                // Split text into lines, truncate if necessary
                let lines = item.name.split(' ');
                const maxLines = Math.floor(radius / 10);
                if (lines.length > maxLines) {
                    lines = lines.slice(0, maxLines - 1);
                    lines.push('...');
                }
                
                const lineHeight = fontSize + 2;
                const startY = bubble.position.y - (lines.length - 1) * lineHeight / 2;
                
                ctx.font = `400 ${fontSize}px Inter`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = item.category === 'main' ? '#ffffff' : '#333333';
                
                // Draw category name
                lines.forEach((line, lineIndex) => {
                    // Truncate long lines
                    const maxWidth = radius * 1.6;
                    let displayLine = line;
                    while (ctx.measureText(displayLine).width > maxWidth && displayLine.length > 3) {
                        displayLine = displayLine.slice(0, -1);
                    }
                    ctx.fillText(displayLine, bubble.position.x, startY + lineIndex * lineHeight - 3);
                });
                
                // Draw percentage
                ctx.font = `600 ${percentageFontSize}px Inter`;
                ctx.fillText(
                    `${item.percentage}%`,
                    bubble.position.x,
                    bubble.position.y + lines.length * lineHeight / 2 + 5
                );
                
                // Draw count for larger bubbles
                if (radius > 40) {
                    ctx.font = `300 ${Math.max(8, percentageFontSize - 2)}px Inter`;
                    ctx.fillText(
                        `(${item.count})`,
                        bubble.position.x,
                        bubble.position.y + lines.length * lineHeight / 2 + 15
                    );
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            const loginOverlay = document.getElementById('loginOverlay');
            const loginForm = document.getElementById('loginForm');

            // Check if we have saved credentials
            const savedEmail = localStorage.getItem('userEmail');
            const savedPassword = localStorage.getItem('userPassword');

            if (savedEmail && savedPassword === 'promova') {
                loginOverlay.style.display = 'none';
                
                // Update Zonka Feedback variables with saved user email
                if (typeof _zf === 'function') {
                    _zf('variables', {
                        contact_name: savedEmail,
                        contact_email: savedEmail,
                    });
                }
            }

            loginForm.onsubmit = (event) => {
                event.preventDefault();
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;

                // Check if password matches
                if (password === 'promova') {
                    // Save credentials to localStorage
                    localStorage.setItem('userEmail', email);
                    localStorage.setItem('userPassword', password);
                    
                    // Update Zonka Feedback variables with user email
                    if (typeof _zf === 'function') {
                        _zf('variables', {
                            contact_name: email,
                            contact_email: email,
                        });
                    }
                    
                    // Hide overlay after a short delay
                    setTimeout(() => {
                        loginOverlay.style.display = 'none';
                    }, 500);
                } else {
                    alert('Invalid password');
                }
            };

            // Filter functionality for analysis section
            const filterBtns = document.querySelectorAll('.filter-btn');
            const deepDiveCards = document.querySelectorAll('.deep-dive-card');
            const impactSection = document.querySelector('.impact-section');
            const automationSection = document.querySelector('.automation-section');
            const trendsSection = document.querySelector('.trends-section');

            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterBtns.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    btn.classList.add('active');

                    const filter = btn.dataset.filter;

                    // Show/hide sections based on filter
                    switch(filter) {
                        case 'all':
                            deepDiveCards.forEach(card => card.style.display = 'block');
                            impactSection.style.display = 'block';
                            automationSection.style.display = 'block';
                            trendsSection.style.display = 'block';
                            break;
                        case 'automation':
                            deepDiveCards.forEach(card => card.style.display = 'block');
                            impactSection.style.display = 'none';
                            automationSection.style.display = 'block';
                            trendsSection.style.display = 'none';
                            break;
                        case 'business':
                            deepDiveCards.forEach(card => card.style.display = 'block');
                            impactSection.style.display = 'block';
                            automationSection.style.display = 'none';
                            trendsSection.style.display = 'none';
                            break;
                        case 'trends':
                            deepDiveCards.forEach(card => card.style.display = 'none');
                            impactSection.style.display = 'none';
                            automationSection.style.display = 'none';
                            trendsSection.style.display = 'block';
                            break;
                    }
                });
            });

            // Animate pattern bars on scroll
            const observerOptions = {
                threshold: 0.5,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const fills = entry.target.querySelectorAll('.pattern-bar .fill');
                        fills.forEach(fill => {
                            fill.style.transform = 'scaleX(1)';
                        });
                    }
                });
            }, observerOptions);

            deepDiveCards.forEach(card => {
                // Initially scale bars to 0
                const fills = card.querySelectorAll('.pattern-bar .fill');
                fills.forEach(fill => {
                    fill.style.transform = 'scaleX(0)';
                    fill.style.transformOrigin = 'left';
                    fill.style.transition = 'transform 0.8s ease-out';
                });
                
                observer.observe(card);
            });

            // Add hover effects for trend cards
            const trendCards = document.querySelectorAll('.trend-card');
            trendCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-4px)';
                    card.style.boxShadow = '0 8px 24px rgba(0, 0, 0, 0.15)';
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0)';
                    card.style.boxShadow = 'none';
                });
            });

            // Add click tracking for automation timeline items
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    console.log(`Clicked on automation phase ${index + 1}`);
                    // Here you could add more detailed modal or expansion functionality
                });
                
                item.style.cursor = 'pointer';
                item.addEventListener('mouseenter', () => {
                    item.style.transform = 'scale(1.02)';
                    item.style.transition = 'transform 0.2s ease';
                });
                
                item.addEventListener('mouseleave', () => {
                    item.style.transform = 'scale(1)';
                });
            });
        });
    </script>
</body>
</html>
